{"version":3,"sources":["../../../../../nava-website/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../../nava-website/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../../nava-website/src/app/admin/home/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { doc, getDoc, setDoc } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebase\";\nimport AdminGuard from \"@/components/admin/AdminGuard\";\n\ninterface FeatureBlock {\n    category: string;\n    title: string;\n    subtitle: string;\n    imageUrl: string;\n}\n\ninterface HomeContent {\n    hero: FeatureBlock;\n    subFeature1: FeatureBlock;\n    subFeature2: FeatureBlock;\n}\n\nconst defaultContent: HomeContent = {\n    hero: { category: \"Current Exhibition\", title: \"Foco Latam\", subtitle: \"Curated by...\", imageUrl: \"\" },\n    subFeature1: { category: \"Publication\", title: \"No-Objetos\", subtitle: \"Julianny Ariza\", imageUrl: \"\" },\n    subFeature2: { category: \"Research\", title: \"Archives\", subtitle: \"Preservation\", imageUrl: \"\" },\n};\n\nexport default function AdminHomeConfig() {\n    const [content, setContent] = useState<HomeContent>(defaultContent);\n    const [loading, setLoading] = useState(true);\n    const [saving, setSaving] = useState(false);\n    const [message, setMessage] = useState(\"\");\n\n    useEffect(() => {\n        const fetchContent = async () => {\n            try {\n                const docRef = doc(db, \"content\", \"home\");\n                const docSnap = await getDoc(docRef);\n                if (docSnap.exists()) {\n                    setContent(docSnap.data() as HomeContent);\n                }\n            } catch (error) {\n                console.error(\"Error fetching home content:\", error);\n            } finally {\n                setLoading(false);\n            }\n        };\n        fetchContent();\n    }, []);\n\n    const handleChange = (section: keyof HomeContent, field: keyof FeatureBlock, value: string) => {\n        setContent(prev => ({\n            ...prev,\n            [section]: {\n                ...prev[section],\n                [field]: value\n            }\n        }));\n    };\n\n    const handleSave = async () => {\n        setSaving(true);\n        try {\n            await setDoc(doc(db, \"content\", \"home\"), content);\n            setMessage(\"Content saved successfully!\");\n            setTimeout(() => setMessage(\"\"), 3000);\n        } catch (error) {\n            console.error(\"Error saving content:\", error);\n            setMessage(\"Error saving content.\");\n        } finally {\n            setSaving(false);\n        }\n    };\n\n    if (loading) return <div className=\"p-8 text-white\">Loading editor...</div>;\n\n    return (\n        <AdminGuard>\n            <div className=\"p-8 max-w-4xl mx-auto text-white pb-24\">\n                <div className=\"flex justify-between items-center mb-8\">\n                    <h1 className=\"text-3xl font-bold uppercase text-nava-green\">Edit Home Page</h1>\n                    <button\n                        onClick={handleSave}\n                        disabled={saving}\n                        className=\"bg-nava-green text-black px-6 py-2 font-bold uppercase hover:bg-white transition-colors disabled:opacity-50\"\n                    >\n                        {saving ? \"Saving...\" : \"Save Changes\"}\n                    </button>\n                </div>\n\n                {message && <div className=\"mb-4 text-nava-green font-mono\">{message}</div>}\n\n                <div className=\"space-y-12\">\n                    {/* Hero Section */}\n                    <SectionEditor\n                        label=\"Main Feature (Left Column)\"\n                        data={content.hero}\n                        onChange={(f, v) => handleChange(\"hero\", f, v)}\n                    />\n\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n                        {/* Sub Feature 1 */}\n                        <SectionEditor\n                            label=\"Sub Feature 1 (Left Grid)\"\n                            data={content.subFeature1}\n                            onChange={(f, v) => handleChange(\"subFeature1\", f, v)}\n                        />\n                        {/* Sub Feature 2 */}\n                        <SectionEditor\n                            label=\"Sub Feature 2 (Left Grid)\"\n                            data={content.subFeature2}\n                            onChange={(f, v) => handleChange(\"subFeature2\", f, v)}\n                        />\n                    </div>\n                </div>\n            </div>\n        </AdminGuard>\n    );\n}\n\nfunction SectionEditor({ label, data, onChange }: { label: string, data: FeatureBlock, onChange: (field: keyof FeatureBlock, value: string) => void }) {\n    return (\n        <div className=\"bg-zinc-900 border border-zinc-800 p-6 rounded-lg\">\n            <h3 className=\"text-xl font-bold mb-4 border-b border-zinc-700 pb-2\">{label}</h3>\n            <div className=\"flex flex-col gap-4\">\n                <div>\n                    <label className=\"block text-xs uppercase text-zinc-500 mb-1\">Category Label</label>\n                    <input\n                        type=\"text\"\n                        value={data.category}\n                        onChange={e => onChange(\"category\", e.target.value)}\n                        className=\"w-full bg-black border border-zinc-700 p-2 text-white focus:border-nava-green outline-none\"\n                    />\n                </div>\n                <div>\n                    <label className=\"block text-xs uppercase text-zinc-500 mb-1\">Title</label>\n                    <input\n                        type=\"text\"\n                        value={data.title}\n                        onChange={e => onChange(\"title\", e.target.value)}\n                        className=\"w-full bg-black border border-zinc-700 p-2 text-white focus:border-nava-green outline-none font-bold\"\n                    />\n                </div>\n                <div>\n                    <label className=\"block text-xs uppercase text-zinc-500 mb-1\">Subtitle / Description</label>\n                    <textarea\n                        value={data.subtitle}\n                        onChange={e => onChange(\"subtitle\", e.target.value)}\n                        className=\"w-full bg-black border border-zinc-700 p-2 text-white focus:border-nava-green outline-none\"\n                        rows={2}\n                    />\n                </div>\n                <div>\n                    <label className=\"block text-xs uppercase text-zinc-500 mb-1\">Image URL</label>\n                    <input\n                        type=\"text\"\n                        value={data.imageUrl}\n                        onChange={e => onChange(\"imageUrl\", e.target.value)}\n                        className=\"w-full bg-black border border-zinc-700 p-2 text-zinc-400 focus:border-nava-green outline-none text-xs\"\n                        placeholder=\"https://...\"\n                    />\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":["module","exports","require","vendored","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1]}